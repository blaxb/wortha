{% extends "base.html" %}

{% block content %}
<div class="auth-page">
  <section class="card auth-card">
    <div class="page-header">
      <h2>Set a new password</h2>
      <p>Choose a strong password to secure your account.</p>
    </div>
    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    {% if success %}
      <div class="alert">{{ success }}</div>
      <a class="btn btn-secondary" href="/login">Log in</a>
    {% elif token %}
      <form action="/reset-password" method="post" class="form">
        <input type="hidden" name="token" value="{{ token }}" />
        <div class="form-group">
          <label>New password</label>
          <input type="password" name="password" required />
        </div>
        <div class="form-group">
          <label>Confirm new password</label>
          <input type="password" name="confirm_password" required />
        </div>
        <button class="btn btn-primary" type="submit">Update password</button>
      </form>
    {% endif %}
  </section>
</div>
{% endblock %}
